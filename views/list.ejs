<%# // include the header  %>
<%- include("header"); -%>

<%# // main %>
    <script>
        const todos = document.querySelectorAll(".todo");
        function todosStyle(event) {
             const scrappedTodo = event.target;
             scrappedTodo.classList.toggle("scrapTodo");
            }

    </script>

    <div class="box" id="heading">
        <h1><%= listTitle %></h1>
    </div>

    <div class="box">

        <%todos.forEach(todo => {%>
        <form action="/delete" method="POST">
            <div class="item">
                <input type="checkbox" name="checkbox" value="<%= todo._id %>" onchange="this.form.submit()" class="styled-checkbox" id="styled-checkbox-1" name="check">
                <p class="todo" onclick="todosStyle(event)"><%= todo.name %></p>
            </div>
            <input type="hidden" name="listName" value="<%= listTitle %>" onchange="this.form.submit()">
        </form>

        <%})%>  
            <form class="item" action="/" method="post">
                <input  type="text" name="input"  placeholder="New item" autocomplete="off" >
                <button type="submit" name="list" value=<%= listTitle %>>+</button>
        </form>
    </div>
 
<%# // include footer %>
<%- include("footer"); -%>